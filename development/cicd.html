

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Continuous Deployment &mdash; Kids First Developer Handbook  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/style.css" type="text/css" />
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Data Releases" href="../data/data_release.html" />
    <link rel="prev" title="Software Releases" href="software_releases.html" />
    <link rel="stylesheet" href="https://kids-first.github.io/kf-sphinx-docs-theme/sphinx_kidsfirst_theme/static/css/kidsfirst.css" type="text/css" />
 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="feature_lifecycle.html">The Feature Lifecycle</a></li>
<li class="toctree-l1"><a class="reference internal" href="repositories.html">The Anatomy of a Repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="software_releases.html">Software Releases</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Continuous Deployment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#config-repositories">Config Repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#environments">Environments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dev">dev</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qa">qa</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prd">prd</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../data/data_release.html">Data Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data/data_types.html">Distributed Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data/portal_data_flow.html">Portal Data Flow</a></li>
</ul>
<p class="caption"><span class="caption-text">Architecture</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture/environments.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/index.html">Micro Services</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/branches.html">Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/commit_messages.html">Commit Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/pull_requests.html">Pull Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/python.html">Guidelines for Python Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/javascript.html">Guidelines for JavaScript Projects</a></li>
</ul>
<p class="caption"><span class="caption-text">Other Kids First Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://kids-first.github.io/kf-airflow-dags">Airflow</a></li>
<li class="toctree-l1"><a class="reference external" href="https://kids-first.github.io/kf-lib-data-ingest">Ingestion Library</a></li>
<li class="toctree-l1"><a class="reference external" href="https://kids-first.github.io/kf-api-study-creator">Study Creator API</a></li>
<li class="toctree-l1"><a class="reference external" href="https://kids-first.github.io/kf-api-release-coordinator">Release Coordinator API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Kids First Developer Handbook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Continuous Deployment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/development/cicd.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="continuous-deployment">
<h1>Continuous Deployment<a class="headerlink" href="#continuous-deployment" title="Permalink to this headline">¶</a></h1>
<div class="section" id="config-repositories">
<h2>Config Repositories<a class="headerlink" href="#config-repositories" title="Permalink to this headline">¶</a></h2>
<p>In addition to creating the main code repository, each code repository that is
to be deployed must have a second, <em>private</em> repository that contains the
infrastructure and CI/CD strategy for that code base. The repository for the
config <em>must match the name of the code repository suffixed with *-config*</em>.
This is a rule of thumb that is followed throughout so that the configuration
may be discovered automatically by other scripts. In addition to the naming
standard, the repository should be <em>private</em>. It is best practice to keep the
infrastructure obscured and prevent external contributions as the config
contains code that is often run at elevated privileges in our environments.</p>
</div>
<div class="section" id="environments">
<h2>Environments<a class="headerlink" href="#environments" title="Permalink to this headline">¶</a></h2>
<p>Often, entire software stacks are deployed concurrently in many different
<em>environments</em>. This provides us with a handful of benefits:</p>
<blockquote>
<div><ul class="simple">
<li>Assurance that there is always a stable deployment for end-users</li>
<li>Provides a safe sandbox to develop new features in isolation</li>
<li>Insures the boilerplate to re-deploy a new environment exists</li>
</ul>
</div></blockquote>
<p>We divide our environments into three primary stages that are tightly couple to
our Continuous Integration</p>
<div class="section" id="dev">
<h3>dev<a class="headerlink" href="#dev" title="Permalink to this headline">¶</a></h3>
<p>The development environment (dev) is intended as sandbox for  new features and
code bases. It is the most unstable environment with no guarantees on data
availability. When new code is pushed to a feature branch, it automatically
triggers its CI pipeline to test, build, and, deploy to the development
environment. The branch must pass through testing and deployment successfully
to before it is allowed to be merged to insure that it will successfully deploy
to the next stage.</p>
</div>
<div class="section" id="qa">
<h3>qa<a class="headerlink" href="#qa" title="Permalink to this headline">¶</a></h3>
<p>The QA environment provides a mostly-stable environment where new features may
be used, evaluated, and tested before being released. This is where
integration test-suites may be run to ensure that all services cooperate
nicely. The data in QA should also be close to production quality to fully flex
all features. New features enter QA after merging a feature branch into the
master branch of a code base.</p>
</div>
<div class="section" id="prd">
<h3>prd<a class="headerlink" href="#prd" title="Permalink to this headline">¶</a></h3>
<p>The production environment (prd) is the end-user environment. This is
critically stable as it must be exposed to the public. To introduce features
into prd, a repository must go through the release process. This includes
creating a pull request for the version change, signoff on it from any
potential stakeholders, merging, and finally acquiring final approval from an
administrator to deploy the infrastructure and code into the environment.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../data/data_release.html" class="btn btn-neutral float-right" title="Data Releases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="software_releases.html" class="btn btn-neutral float-left" title="Software Releases" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Kids First

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>